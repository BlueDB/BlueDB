apply plugin: 'java'
version = '2.0.4'

subprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'
    group = 'org.bluedb'
    repositories {
        mavenCentral()
    }
    dependencies {
        testCompile "junit:junit:4.12"
    }
}

project(':BlueDBOnDisk') {
	dependencies {
		compile project(':BlueDB')
	}
}

def onDiskProjects = [':BlueDB',':BlueDBOnDisk']
task onDiskJar(type: Jar) {
	manifest {
        attributes(
            'Version'       : "${version}",
            'Build-Timestamp': new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSSZ").format(new Date()),
        )
    }
	baseName = 'bluedb-on-disk'
	from {
		files(onDiskProjects.collect{ project(it).sourceSets.main.output })
	}
}
